<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Set Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
<div th:replace="fragments/navbar :: navbar"></div>

<h2 th:text="${exerciseName}"></h2>

<form th:action="@{/exercise-history}" method="get">
    <input type="hidden" name="exerciseId" th:value="${exerciseId}">
    <button type="submit">Exercise History</button>
</form>

<form method="post" th:action="@{/set}">
    <input type="hidden" name="workoutExerciseId" th:value="${workoutExerciseId}">
    <input type="hidden" name="exerciseId" th:value="${exerciseId}">

    <div class="form-group">
        <label for="weightKg">Weight (kg)</label>
        <input
                type="number"
                id="weightKg"
                name="weightKg"
                required
                min="0"
                step="0.5"
                placeholder="Enter weight">
    </div>

    <div class="form-group">
        <label for="reps">Reps</label>
        <input
                type="number"
                id="reps"
                name="reps"
                required
                min="1"
                step="1"
                placeholder="Enter reps">
    </div>

    <button type="submit">
        Add Set
    </button>

</form>

<!--    show table of completed sets    -->
<section th:if="${sets != null and #lists.size(sets) > 0}" class="mt-4">
    <h3>Sets Completed</h3>
    <table class="table table-striped table-bordered">
        <thead>
        <tr>
            <th>Set #</th>
            <th>Weight (kg)</th>
            <th>Reps</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="set : ${sets}">
            <td th:text="${set.setNumber}"></td>
            <td th:text="${set.weightKg}"></td>
            <td th:text="${set.reps}"></td>
        </tr>
        </tbody>
    </table>
</section>


<!-- Finish adding sets button -->
<form th:action="@{/exercise}" method="get">
    <input type="hidden" name="currentUserId" th:value="${currentUserId}">
    <button type="submit">Finish Adding Sets</button>
</form>

</body>
</html>


